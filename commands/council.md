# /council - LLM 위원회 소집

다중 LLM CLI를 활용한 집단 지성 협의 시스템입니다. Claude Code가 의장으로서 Gemini, Codex를 조율합니다.

## 사용법
```
/council <질문>
```

## 실행 지침

$ARGUMENTS 를 사용자 질문으로 처리하세요.

---

## 3단계 협의 프로세스

### Stage 1: 독립적 의견 수집

각 위원에게 독립적으로 질문하고 응답을 수집합니다.

**1. Gemini 위원 호출:**
```bash
gemini "다음 질문에 대해 전문적인 견해를 제시해 주세요. 다른 AI의 의견은 참고하지 마시고 독립적으로 답변해 주세요.

질문: {사용자질문}

답변 형식:
1. 핵심 요약 (2-3문장)
2. 상세 설명
3. 근거" --yolo
```

**2. Codex 위원 호출:**
```bash
codex exec "다음 질문에 대해 전문적인 견해를 제시해 주세요. 다른 AI의 의견은 참고하지 마시고 독립적으로 답변해 주세요.

질문: {사용자질문}

답변 형식:
1. 핵심 요약 (2-3문장)
2. 상세 설명
3. 근거"
```

**3. Claude 위원 (의장):**
위와 동일한 형식으로 자신의 의견을 생성합니다.

### Stage 2: 익명 교차 평가

**1. 익명화:**
- 수집된 3개 응답을 Response A, B, C로 랜덤 라벨링
- 라벨 매핑을 내부적으로 저장

**2. 교차 평가 요청:**

각 위원에게 자신을 제외한 2개 응답 평가 요청:

```bash
gemini "다음 응답들을 평가하고 순위를 매겨주세요.

원본 질문: {질문}

Response A:
{응답A}

Response B:
{응답B}

평가 기준: 정확성, 통찰력, 완성도, 명확성

FINAL RANKING:
1. Response X
2. Response Y" --yolo
```

**3. 순위 파싱:**
- "FINAL RANKING:" 섹션에서 순위 추출
- 각 위원의 평가를 집계

### Stage 3: 최종 종합

의장(Claude)이 다음을 종합하여 최종 결론 작성:
- 모든 위원 응답
- 교차 평가 결과
- 순위 집계

---

## 출력 형식

```markdown
# 🏛️ LLM 위원회 결론

## 📋 질문
{원본 질문}

## 👥 Stage 1: 위원 응답

### Gemini (gemini-3-pro-preview)
{gemini 응답}

### Codex (gpt-5.2-codex)
{codex 응답}

### Claude (claude-opus-4.5) - 의장
{claude 응답}

## ⚖️ Stage 2: 교차 평가

### 순위 집계
| 위원 | 평균 순위 | 평가 횟수 |
|------|-----------|-----------|
| ... | ... | ... |

## 🎯 Stage 3: 최종 결론

### ✅ 합의 사항
- ...

### ⚠️ 이견 사항
- ...

### 📝 종합 결론
...

### 🔒 신뢰도
높음/중간/낮음

---
*이 결론은 Gemini, Codex, Claude의 집단 지성을 종합한 것입니다.*
```

---

## 에러 처리

- CLI 실패 시 2회 재시도
- 2명 미만 응답 시 세션 중단
- 타임아웃: 120초
